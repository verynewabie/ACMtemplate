```cpp
for(int i=1;i<=n;i++){//按下标插入,相当于k已经有序了
  int k=top;
  while(k>0&&h[stk[k]]>h[i]) k--;
  if(k) rs[stk[k]]=i;//rs代表笛卡尔树每个节点的右儿子
  if(k<top) ls[i]=stk[k+1];//ls代表笛卡尔树每个节点的左儿子
  stk[++k]=i;
  top=k;
}
```

![image-20221015161534198](https://cartoonwqy.oss-cn-nanjing.aliyuncs.com/boke/202210151615250.png)

